!function(context){function Lazy(a){if(a instanceof Array)return new ArrayWrapper(a);if("string"==typeof a)return new StringWrapper(a);if(a instanceof Sequence)return a;if(Lazy.extensions){for(var b,c=Lazy.extensions,d=c.length;!b&&d--;)b=c[d](a);if(b)return b}return new ObjectWrapper(a)}function Sequence(){}function Iterator(a){this.sequence=a,this.index=-1}function MemoizedSequence(a){this.parent=a}function MappedSequence(a,b){this.parent=a,this.mapFn=b}function MappingIterator(a,b){this.iterator=a.getIterator(),this.mapFn=b,this.index=-1}function FilteredSequence(a,b){this.parent=a,this.filterFn=b}function FilteringIterator(a,b){this.iterator=a.getIterator(),this.filterFn=b,this.index=0}function ReversedSequence(a){this.parent=a}function ReversedIterator(a){this.sequence=a}function ConcatenatedSequence(a,b){this.parent=a,this.arrays=b}function TakeSequence(a,b){this.parent=a,this.count=b}function TakeIterator(a,b){this.iterator=a.getIterator(),this.count=b}function TakeWhileSequence(a,b){this.parent=a,this.predicate=b}function DropSequence(a,b){this.parent=a,this.count="number"==typeof b?b:1}function DropWhileSequence(a,b){this.parent=a,this.predicate=b}function SortedSequence(a,b){this.parent=a,this.sortFn=b}function GroupedSequence(a,b){this.parent=a,this.keyFn=b}function CountedSequence(a,b){this.parent=a,this.keyFn=b}function UniqueSequence(a,b){this.parent=a,this.keyFn=b}function ZippedSequence(a,b){this.parent=a,this.arrays=b}function ShuffledSequence(a){this.parent=a}function FlattenedSequence(a){this.parent=a}function WithoutSequence(a,b){this.parent=a,this.values=b}function IntersectionSequence(a,b){this.parent=a,this.arrays=b}function UniqueMemoizer(a){this.iterator=a,this.set=new Set,this.memo=[],this.currentValue=void 0}function ChunkedSequence(a,b){this.parent=a,this.chunkSize=b}function ChunkedIterator(a,b){this.iterator=a.getIterator(),this.size=b}function TappedSequence(a,b){this.parent=a,this.callback=b}function SimpleIntersectionSequence(a,b){this.parent=a,this.array=b,this.each=getEachForIntersection(b)}function getEachForIntersection(a){return a.length<40?SimpleIntersectionSequence.prototype.eachArrayCache:SimpleIntersectionSequence.prototype.eachMemoizerCache}function SimpleZippedSequence(a,b){this.parent=a,this.array=b}function ArrayLikeSequence(){}function IndexedIterator(a){this.sequence=a,this.index=-1}function IndexedMappedSequence(a,b){this.parent=a,this.mapFn=b}function IndexedFilteredSequence(a,b){this.parent=a,this.filterFn=b}function IndexedReversedSequence(a){this.parent=a}function IndexedTakeSequence(a,b){this.parent=a,this.count=b}function IndexedDropSequence(a,b){this.parent=a,this.count="number"==typeof b?b:1}function IndexedConcatenatedSequence(a,b){this.parent=a,this.other=b}function IndexedUniqueSequence(a,b){this.parent=a,this.each=getEachForParent(a),this.keyFn=b}function getEachForParent(a){return a.length()<100?IndexedUniqueSequence.prototype.eachArrayCache:UniqueSequence.prototype.each}function ArrayWrapper(a){this.source=a}function MappedArrayWrapper(a,b){this.parent=a,this.mapFn=b}function FilteredArrayWrapper(a,b){this.parent=a,this.filterFn=b}function UniqueArrayWrapper(a,b){this.parent=a,this.each=getEachForSource(a.source),this.keyFn=b}function getEachForSource(a){return a.length<40?UniqueArrayWrapper.prototype.eachNoCache:a.length<100?UniqueArrayWrapper.prototype.eachArrayCache:UniqueArrayWrapper.prototype.eachSetCache}function ConcatArrayWrapper(a,b){this.parent=a,this.other=b}function ObjectLikeSequence(){}function AssignSequence(a,b){this.parent=a,this.other=b}function DefaultsSequence(a,b){this.parent=a,this.defaults=b}function InvertedSequence(a){this.parent=a}function MergedSequence(a,b,c){this.parent=a,this.others=b,this.mergeFn=c}function mergeObjects(a,b){if("undefined"==typeof b)return a;if("object"!=typeof a||null===a||"object"!=typeof b||null===b)return b;var c,d={};for(c in a)d[c]=mergeObjects(a[c],b[c]);for(c in b)d[c]||(d[c]=b[c]);return d}function PickSequence(a,b){this.parent=a,this.properties=b}function OmitSequence(a,b){this.parent=a,this.properties=b}function ObjectWrapper(a){this.source=a}function StringLikeSequence(){}function CharIterator(a){this.source=Lazy(a),this.index=-1}function StringSegment(a,b,c){this.parent=a,this.start=Math.max(0,b),this.stop=c}function MappedStringLikeSequence(a,b){this.parent=a,this.mapFn=b}function ReversedStringLikeSequence(a){this.parent=a}function StringMatchSequence(a,b){this.source=a,this.pattern=b}function StringMatchIterator(a,b){this.source=a,this.pattern=cloneRegex(b)}function SplitStringSequence(a,b){this.source=a,this.pattern=b}function SplitWithRegExpIterator(a,b){this.source=a,this.pattern=cloneRegex(b)}function SplitWithStringIterator(a,b){this.source=a,this.delimiter=b}function StringWrapper(a){this.source=a}function GeneratedSequence(a,b){this.get=a,this.fixedLength=b}function GeneratedIterator(a){this.sequence=a,this.index=0,this.currentValue=null}function AsyncSequence(a,b){if(a instanceof AsyncSequence)throw"Sequence is already asynchronous!";this.parent=a,this.interval=b,this.onNextCallback=getOnNextCallback(b)}function AsyncHandle(a){this.cancelCallback=getCancelCallback(a)}function getOnNextCallback(a){return"undefined"==typeof a&&"function"==typeof setImmediate?setImmediate:(a=a||0,function(b){return setTimeout(b,a)})}function getCancelCallback(a){return"undefined"==typeof a&&"function"==typeof clearImmediate?clearImmediate:clearTimeout}function WatchedPropertySequence(a,b){this.listeners=[],b?b instanceof Array||(b=[b]):b=Lazy(a).keys().toArray();var c=this.listeners,d=0;Lazy(b).each(function(b){var e=a[b];Object.defineProperty(a,b,{get:function(){return e},set:function(a){for(var f=c.length-1;f>=0;--f)c[f]({property:b,value:a},d)===!1&&c.splice(f,1);e=a,++d}})})}function StreamLikeSequence(){}function SplitStreamSequence(a,b){this.parent=a,this.delimiter=b}function MatchedStreamSequence(a,b){this.parent=a,this.pattern=cloneRegex(b)}function createCallback(a,b){switch(typeof a){case"function":return a;case"string":return function(b){return b[a]};case"object":return function(b){return Lazy(a).all(function(a,c){return b[c]===a})};case"undefined":return b?function(){return b}:Lazy.identity;default:throw"Don't know how to make a callback from a "+typeof a+"!"}}function createSet(a){var b=new Set;return Lazy(a||[]).flatten().each(function(a){b.add(a)}),b}function compare(a,b,c){return"function"==typeof c?compare(c(a),c(b)):a===b?0:a>b?1:-1}function forEach(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c)===!1)return!1;return!0}function getFirst(a){var b;return a.each(function(a){return b=a,!1}),b}function arrayContains(a,b){var c=-1,d=a.length;if(b!==b){for(;++c<d;)if(a[c]!==a[c])return!0;return!1}for(;++c<d;)if(a[c]===b)return!0;return!1}function arrayContainsBefore(a,b,c,d){var e=-1;if(d){for(d=createCallback(d);++e<c;)if(d(a[e])===d(b))return!0}else for(;++e<c;)if(a[e]===b)return!0;return!1}function swap(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function cloneRegex(pattern){return eval(""+pattern+(pattern.global?"":"g"))}function Set(){this.table={},this.objects=[]}function Queue(a){this.contents=new Array(a),this.start=0,this.count=0}function defineSequenceType(a,b,c){var d=function(){};d.prototype=new a;for(var e in c)d.prototype[e]=c[e];for(var f=function(){var a=new d;return a.parent=this,a.init&&a.init.apply(a,arguments),a},g="string"==typeof b?[b]:b,h=0;h<g.length;++h)a.prototype[g[h]]=f;return d}Lazy.VERSION="0.3.2",Lazy.noop=function(){},Lazy.identity=function(a){return a},Lazy.strict=function(){function a(a){if(null==a)throw"You cannot wrap null or undefined using Lazy.";if("number"==typeof a||"boolean"==typeof a)throw"You cannot wrap primitive values using Lazy.";return Lazy(a)}return Lazy(Lazy).each(function(b,c){a[c]=b}),a},Sequence.define=function(a,b){if(!b||!b.getIterator&&!b.each)throw"A custom sequence must implement *at least* getIterator or each!";return defineSequenceType(Sequence,a,b)},Sequence.prototype.size=function(){return this.getIndex().length()},Sequence.prototype.getIterator=function(){return new Iterator(this)},Sequence.prototype.root=function(){return this.parent.root()},Sequence.prototype.value=function(){return this.toArray()},Sequence.prototype.apply=function(a){var b,c=this.root(),d=c.source;try{c.source=a,b=this.value()}finally{c.source=d}return b},Iterator.prototype.current=function(){return this.cachedIndex&&this.cachedIndex.get(this.index)},Iterator.prototype.moveNext=function(){var a=this.cachedIndex;return a||(a=this.cachedIndex=this.sequence.getIndex()),this.index>=a.length()-1?!1:(++this.index,!0)},Sequence.prototype.toArray=function(){return this.reduce(function(a,b){return a.push(b),a},[])},Sequence.prototype.getIndex=function(){return this.cachedIndex||(this.cachedIndex=new ArrayWrapper(this.toArray())),this.cachedIndex},Sequence.prototype.memoize=function(){return new MemoizedSequence(this)},Sequence.prototype.toObject=function(){return this.reduce(function(a,b){return a[b[0]]=b[1],a},{})},Sequence.prototype.each=function(a){for(var b=this.getIterator(),c=-1;b.moveNext();)if(a(b.current(),++c)===!1)return!1;return!0},Sequence.prototype.forEach=function(a){return this.each(a)},Sequence.prototype.map=function(a){return new MappedSequence(this,createCallback(a))},Sequence.prototype.collect=function(a){return this.map(a)},MappedSequence.prototype=new Sequence,MappedSequence.prototype.getIterator=function(){return new MappingIterator(this.parent,this.mapFn)},MappedSequence.prototype.each=function(a){var b=this.mapFn;return this.parent.each(function(c,d){return a(b(c,d),d)})},MappingIterator.prototype.current=function(){return this.mapFn(this.iterator.current(),this.index)},MappingIterator.prototype.moveNext=function(){return this.iterator.moveNext()?(++this.index,!0):!1},Sequence.prototype.pluck=function(a){return this.map(a)},Sequence.prototype.invoke=function(a){return this.map(function(b){return b[a]()})},Sequence.prototype.filter=function(a){return new FilteredSequence(this,createCallback(a))},Sequence.prototype.select=function(a){return this.filter(a)},FilteredSequence.prototype=new Sequence,FilteredSequence.prototype.getIterator=function(){return new FilteringIterator(this.parent,this.filterFn)},FilteredSequence.prototype.each=function(a){var b=this.filterFn;return this.parent.each(function(c,d){return b(c,d)?a(c,d):void 0})},FilteredSequence.prototype.reverse=function(){return this.parent.reverse().filter(this.filterFn)},FilteringIterator.prototype.current=function(){return this.value},FilteringIterator.prototype.moveNext=function(){for(var a,b=this.iterator,c=this.filterFn;b.moveNext();)if(a=b.current(),c(a,this.index++))return this.value=a,!0;return this.value=void 0,!1},Sequence.prototype.reject=function(a){return a=createCallback(a),this.filter(function(b){return!a(b)})},Sequence.prototype.ofType=function(a){return this.filter(function(b){return typeof b===a})},Sequence.prototype.where=function(a){return this.filter(a)},Sequence.prototype.reverse=function(){return new ReversedSequence(this)},ReversedSequence.prototype=new Sequence,ReversedSequence.prototype.getIterator=function(){return new ReversedIterator(this.parent)},ReversedIterator.prototype.current=function(){return this.sequence.getIndex().get(this.index)},ReversedIterator.prototype.moveNext=function(){var a=this.sequence.getIndex(),b=a.length();return"undefined"==typeof this.index&&(this.index=b),--this.index>=0},Sequence.prototype.concat=function(){return new ConcatenatedSequence(this,arraySlice.call(arguments,0))},ConcatenatedSequence.prototype=new Sequence,ConcatenatedSequence.prototype.each=function(a){var b=!1,c=0;this.parent.each(function(d){return a(d,c++)===!1?(b=!0,!1):void 0}),b||Lazy(this.arrays).flatten().each(function(b){return a(b,c++)===!1?!1:void 0})},Sequence.prototype.first=function(a){return"undefined"==typeof a?getFirst(this):new TakeSequence(this,a)},Sequence.prototype.head=Sequence.prototype.take=function(a){return this.first(a)},TakeSequence.prototype=new Sequence,TakeSequence.prototype.getIterator=function(){return new TakeIterator(this.parent,this.count)},TakeSequence.prototype.each=function(a){var b=this.count,c=0;this.parent.each(function(d){var e;return b>c&&(e=a(d,c)),++c>=b?!1:e})},TakeIterator.prototype.current=function(){return this.iterator.current()},TakeIterator.prototype.moveNext=function(){return--this.count>=0&&this.iterator.moveNext()},Sequence.prototype.takeWhile=function(a){return new TakeWhileSequence(this,a)},TakeWhileSequence.prototype=new Sequence,TakeWhileSequence.prototype.each=function(a){var b=this.predicate;this.parent.each(function(c){return b(c)&&a(c)})},Sequence.prototype.initial=function(a){return"undefined"==typeof a&&(a=1),this.take(this.getIndex().length()-a)},Sequence.prototype.last=function(a){return"undefined"==typeof a?this.reverse().first():this.reverse().take(a).reverse()},Sequence.prototype.findWhere=function(a){return this.where(a).first()},Sequence.prototype.rest=function(a){return new DropSequence(this,a)},Sequence.prototype.skip=Sequence.prototype.tail=Sequence.prototype.drop=function(a){return this.rest(a)},DropSequence.prototype=new Sequence,DropSequence.prototype.each=function(a){var b=this.count,c=0,d=0;this.parent.each(function(e){return c++<b?void 0:a(e,d++)})},Sequence.prototype.dropWhile=function(a){return new DropWhileSequence(this,a)},Sequence.prototype.skipWhile=function(a){return this.dropWhile(a)},DropWhileSequence.prototype=new Sequence,DropWhileSequence.prototype.each=function(a){var b=this.predicate,c=!1;this.parent.each(function(d){if(!c){if(b(d))return;c=!0}return a(d)})},Sequence.prototype.sortBy=function(a){return new SortedSequence(this,a)},SortedSequence.prototype=new Sequence,SortedSequence.prototype.each=function(a){var b=createCallback(this.sortFn),c=this.parent.toArray();return c.sort(function(a,c){return compare(a,c,b)}),forEach(c,a)},Sequence.prototype.groupBy=function(a){return new GroupedSequence(this,a)},Sequence.prototype.countBy=function(a){return new CountedSequence(this,a)},Sequence.prototype.uniq=function(a){return new UniqueSequence(this,a)},Sequence.prototype.unique=function(a){return this.uniq(a)},UniqueSequence.prototype=new Sequence,UniqueSequence.prototype.each=function(a){var b=new Set,c=this.keyFn,d=0;return c?(c=createCallback(c),this.parent.each(function(e){return b.add(c(e))?a(e,d++):void 0})):this.parent.each(function(c){return b.add(c)?a(c,d++):void 0})},Sequence.prototype.zip=function(a){return 1===arguments.length?new SimpleZippedSequence(this,a):new ZippedSequence(this,arraySlice.call(arguments,0))},ZippedSequence.prototype=new Sequence,ZippedSequence.prototype.each=function(a){var b=this.arrays,c=0;this.parent.each(function(d){for(var e=[d],f=0;f<b.length;++f)b[f].length>c&&e.push(b[f][c]);return a(e,c++)})},Sequence.prototype.shuffle=function(){return new ShuffledSequence(this)},ShuffledSequence.prototype=new Sequence,ShuffledSequence.prototype.each=function(a){for(var b=this.parent.toArray(),c=Math.floor,d=Math.random,e=0,f=b.length-1;f>0;--f)if(swap(b,f,c(d()*f)+1),a(b[f],e++)===!1)return;a(b[0],e)},Sequence.prototype.flatten=function(){return new FlattenedSequence(this)},FlattenedSequence.prototype=new Sequence,FlattenedSequence.prototype.each=function(a){var b=0;return this.parent.each(function c(d){return d instanceof Array?forEach(d,c):d instanceof Sequence?d.each(c):a(d,b++)})},Sequence.prototype.compact=function(){return this.filter(function(a){return!!a})},Sequence.prototype.without=function(){return new WithoutSequence(this,arraySlice.call(arguments,0))},Sequence.prototype.difference=function(){return this.without.apply(this,arguments)},WithoutSequence.prototype=new Sequence,WithoutSequence.prototype.each=function(a){var b=createSet(this.values),c=0;return this.parent.each(function(d){return b.contains(d)?void 0:a(d,c++)})},Sequence.prototype.union=function(a){return this.concat(a).uniq()},Sequence.prototype.intersection=function(a){return 1===arguments.length&&arguments[0]instanceof Array?new SimpleIntersectionSequence(this,a):new IntersectionSequence(this,arraySlice.call(arguments,0))},IntersectionSequence.prototype=new Sequence,IntersectionSequence.prototype.each=function(a){var b=Lazy(this.arrays).map(function(a){return new UniqueMemoizer(Lazy(a).getIterator())}),c=new UniqueMemoizer(b.getIterator()),d=0;return this.parent.each(function(b){var e=!0;return c.each(function(a){return a.contains(b)?void 0:(e=!1,!1)}),e?a(b,d++):void 0})},UniqueMemoizer.prototype.current=function(){return this.currentValue},UniqueMemoizer.prototype.moveNext=function(){for(var a,b=this.iterator,c=this.set,d=this.memo;b.moveNext();)if(a=b.current(),c.add(a))return d.push(a),this.currentValue=a,!0;return!1},UniqueMemoizer.prototype.each=function(a){for(var b=this.memo,c=b.length,d=-1;++d<c;)if(a(b[d],d)===!1)return!1;for(;this.moveNext()&&a(this.currentValue,d++)!==!1;);},UniqueMemoizer.prototype.contains=function(a){if(this.set.contains(a))return!0;for(;this.moveNext();)if(this.currentValue===a)return!0;return!1},Sequence.prototype.every=function(a){return a=createCallback(a),this.each(function(b,c){return!!a(b,c)})},Sequence.prototype.all=function(a){return this.every(a)},Sequence.prototype.some=function(a){a=createCallback(a,!0);var b=!1;return this.each(function(c){return a(c)?(b=!0,!1):void 0}),b},Sequence.prototype.any=function(a){return this.some(a)},Sequence.prototype.none=function(a){return!this.any(a)},Sequence.prototype.isEmpty=function(){return!this.any()},Sequence.prototype.indexOf=function(a){var b=-1;return this.each(function(c,d){return c===a?(b=d,!1):void 0}),b},Sequence.prototype.lastIndexOf=function(a){var b=this.reverse().indexOf(a);return-1!==b&&(b=this.getIndex().length()-b-1),b},Sequence.prototype.sortedIndex=function(a){for(var b,c=this.getIndex(),d=0,e=c.length();e>d;)b=d+e>>>1,-1===compare(c.get(b),a)?d=b+1:e=b;return d},Sequence.prototype.contains=function(a){return-1!==this.indexOf(a)},Sequence.prototype.reduce=function(a,b){return arguments.length<2?this.tail().reduce(a,this.head()):(this.each(function(c,d){b=a(b,c,d)}),b)},Sequence.prototype.inject=Sequence.prototype.foldl=function(a,b){return this.reduce(a,b)},Sequence.prototype.reduceRight=function(a,b){if(arguments.length<2)return this.initial(1).reduceRight(a,this.last());var c=this.getIndex().length()-1;return this.reverse().reduce(function(b,d){return a(b,d,c--)},b)},Sequence.prototype.foldr=function(a,b){return this.reduceRight(a,b)},Sequence.prototype.consecutive=function(a){var b=new Queue(a),c=this.map(function(c){return b.add(c).count===a?b.toArray():void 0});return c.compact()},Sequence.prototype.chunk=function(a){if(1>a)throw"You must specify a positive chunk size.";return new ChunkedSequence(this,a)},ChunkedSequence.prototype=new Sequence,ChunkedSequence.prototype.getIterator=function(){return new ChunkedIterator(this.parent,this.chunkSize)},ChunkedIterator.prototype.current=function(){return this.currentChunk},ChunkedIterator.prototype.moveNext=function(){for(var a=this.iterator,b=this.size,c=[];c.length<b&&a.moveNext();)c.push(a.current());return 0===c.length?!1:(this.currentChunk=c,!0)},Sequence.prototype.tap=function(a){return new TappedSequence(this,a)},TappedSequence.prototype=new Sequence,TappedSequence.prototype.each=function(a){var b=this.callback;return this.parent.each(function(c,d){return b(c,d),a(c,d)})},Sequence.prototype.find=function(a){return this.filter(a).first()},Sequence.prototype.detect=function(a){return this.find(a)},Sequence.prototype.min=function(a){return"undefined"!=typeof a?this.minBy(a):this.reduce(function(a,b){return a>b?b:a},1/0)},Sequence.prototype.minBy=function(a){return a=createCallback(a),this.reduce(function(b,c){return a(c)<a(b)?c:b})},Sequence.prototype.max=function(a){return"undefined"!=typeof a?this.maxBy(a):this.reduce(function(a,b){return b>a?b:a},-1/0)},Sequence.prototype.maxBy=function(a){return a=createCallback(a),this.reduce(function(b,c){return a(c)>a(b)?c:b})},Sequence.prototype.sum=function(a){return"undefined"!=typeof a?this.sumBy(a):this.reduce(function(a,b){return a+b},0)},Sequence.prototype.sumBy=function(a){return a=createCallback(a),this.reduce(function(b,c){return b+a(c)},0)},Sequence.prototype.join=function(a){return a="string"==typeof a?a:",",this.reduce(function(b,c){return b.length>0&&(b+=a),b+c},"")},Sequence.prototype.toString=function(a){return this.join(a)},Sequence.prototype.async=function(a){return new AsyncSequence(this,a)},SimpleIntersectionSequence.prototype=new Sequence,SimpleIntersectionSequence.prototype.eachMemoizerCache=function(a){var b=new UniqueMemoizer(Lazy(this.array).getIterator()),c=0;return this.parent.each(function(d){return b.contains(d)?a(d,c++):void 0})},SimpleIntersectionSequence.prototype.eachArrayCache=function(a){var b=this.array,c=arrayContains,d=0;return this.parent.each(function(e){return c(b,e)?a(e,d++):void 0})},SimpleZippedSequence.prototype=new Sequence,SimpleZippedSequence.prototype.each=function(a){var b=this.array;return this.parent.each(function(c,d){return a([c,b[d]],d)})},ArrayLikeSequence.prototype=new Sequence,ArrayLikeSequence.define=function(a,b){if(!b||"function"!=typeof b.get)throw"A custom array-like sequence must implement *at least* get!";return defineSequenceType(ArrayLikeSequence,a,b)},ArrayLikeSequence.prototype.get=function(a){return this.parent.get(a)},ArrayLikeSequence.prototype.length=function(){return this.parent.length()},ArrayLikeSequence.prototype.getIndex=function(){return this},ArrayLikeSequence.prototype.getIterator=function(){return new IndexedIterator(this)},IndexedIterator.prototype.current=function(){return this.sequence.get(this.index)},IndexedIterator.prototype.moveNext=function(){return this.index>=this.sequence.length()-1?!1:(++this.index,!0)},ArrayLikeSequence.prototype.each=function(a){for(var b=this.length(),c=-1;++c<b;)if(a(this.get(c),c)===!1)return!1;return!0},ArrayLikeSequence.prototype.pop=function(){return this.initial()},ArrayLikeSequence.prototype.shift=function(){return this.drop()},ArrayLikeSequence.prototype.slice=function(a,b){var c=this.length();0>a&&(a=c+a);var d=this.drop(a);return"number"==typeof b&&(0>b&&(b=c+b),d=d.take(b-a)),d},ArrayLikeSequence.prototype.map=function(a){return new IndexedMappedSequence(this,createCallback(a))},IndexedMappedSequence.prototype=new ArrayLikeSequence,IndexedMappedSequence.prototype.get=function(a){return 0>a||a>=this.parent.length()?void 0:this.mapFn(this.parent.get(a),a)},ArrayLikeSequence.prototype.filter=function(a){return new IndexedFilteredSequence(this,createCallback(a))},IndexedFilteredSequence.prototype=new FilteredSequence,IndexedFilteredSequence.prototype.each=function(a){for(var b,c=this.parent,d=this.filterFn,e=this.parent.length(),f=-1;++f<e;)if(b=c.get(f),d(b,f)&&a(b,f)===!1)return!1;return!0},ArrayLikeSequence.prototype.reverse=function(){return new IndexedReversedSequence(this)},IndexedReversedSequence.prototype=new ArrayLikeSequence,IndexedReversedSequence.prototype.get=function(a){return this.parent.get(this.length()-a-1)},ArrayLikeSequence.prototype.first=function(a){return"undefined"==typeof a?this.get(0):new IndexedTakeSequence(this,a)},IndexedTakeSequence.prototype=new ArrayLikeSequence,IndexedTakeSequence.prototype.length=function(){var a=this.parent.length();return this.count<=a?this.count:a},ArrayLikeSequence.prototype.rest=function(a){return new IndexedDropSequence(this,a)},IndexedDropSequence.prototype=new ArrayLikeSequence,IndexedDropSequence.prototype.get=function(a){return this.parent.get(this.count+a)},IndexedDropSequence.prototype.length=function(){var a=this.parent.length();return this.count<=a?a-this.count:0},ArrayLikeSequence.prototype.concat=function(a){return 1===arguments.length&&arguments[0]instanceof Array?new IndexedConcatenatedSequence(this,a):Sequence.prototype.concat.apply(this,arguments)},IndexedConcatenatedSequence.prototype=new ArrayLikeSequence,IndexedConcatenatedSequence.prototype.get=function(a){var b=this.parent.length();return b>a?this.parent.get(a):this.other[a-b]},IndexedConcatenatedSequence.prototype.length=function(){return this.parent.length()+this.other.length},ArrayLikeSequence.prototype.uniq=function(a){return new IndexedUniqueSequence(this,createCallback(a))},IndexedUniqueSequence.prototype=new Sequence,IndexedUniqueSequence.prototype.eachArrayCache=function(a){for(var b,c,d=this.parent,e=this.keyFn,f=d.length(),g=[],h=arrayContains,i=-1,j=0;++i<f;)if(c=d.get(i),b=e(c),!h(g,b)&&(g.push(b),a(c,j++)===!1))return!1},IndexedUniqueSequence.prototype.eachSetCache=UniqueSequence.prototype.each,MemoizedSequence.prototype=new ArrayLikeSequence,MemoizedSequence.prototype.cache=function(){return this.cachedResult||(this.cachedResult=this.parent.toArray())},MemoizedSequence.prototype.get=function(a){return this.cache()[a]},MemoizedSequence.prototype.length=function(){return this.cache().length},MemoizedSequence.prototype.slice=function(a,b){return this.cache().slice(a,b)},MemoizedSequence.prototype.toArray=function(){return this.cache().slice(0)},ArrayWrapper.prototype=new ArrayLikeSequence,ArrayWrapper.prototype.root=function(){return this},ArrayWrapper.prototype.get=function(a){return this.source[a]},ArrayWrapper.prototype.length=function(){return this.source.length},ArrayWrapper.prototype.each=function(a){return forEach(this.source,a)},ArrayWrapper.prototype.map=ArrayWrapper.prototype.collect=function(a){return new MappedArrayWrapper(this,createCallback(a))},ArrayWrapper.prototype.filter=ArrayWrapper.prototype.select=function(a){return new FilteredArrayWrapper(this,createCallback(a))},ArrayWrapper.prototype.uniq=ArrayWrapper.prototype.unique=function(a){return new UniqueArrayWrapper(this,a)},ArrayWrapper.prototype.concat=function(a){return 1===arguments.length&&arguments[0]instanceof Array?new ConcatArrayWrapper(this,a):ArrayLikeSequence.prototype.concat.apply(this,arguments)},ArrayWrapper.prototype.toArray=function(){return this.source.slice(0)},MappedArrayWrapper.prototype=new ArrayLikeSequence,MappedArrayWrapper.prototype.get=function(a){var b=this.parent.source;return 0>a||a>=b.length?void 0:this.mapFn(b[a])},MappedArrayWrapper.prototype.length=function(){return this.parent.source.length},MappedArrayWrapper.prototype.each=function(a){for(var b=this.parent.source,c=b.length,d=this.mapFn,e=-1;++e<c;)if(a(d(b[e],e),e)===!1)return!1;return!0},FilteredArrayWrapper.prototype=new FilteredSequence,FilteredArrayWrapper.prototype.each=function(a){for(var b,c=this.parent.source,d=this.filterFn,e=c.length,f=-1;++f<e;)if(b=c[f],d(b,f)&&a(b,f)===!1)return!1;return!0},UniqueArrayWrapper.prototype=new Sequence,UniqueArrayWrapper.prototype.eachNoCache=function(a){for(var b,c=this.parent.source,d=this.keyFn,e=c.length,f=arrayContainsBefore,g=-1,h=0;++g<e;)if(b=c[g],!f(c,b,g,d)&&a(b,h++)===!1)return!1;return!0},UniqueArrayWrapper.prototype.eachArrayCache=function(a){var b,c,d=this.parent.source,e=this.keyFn,f=d.length,g=[],h=arrayContains,i=-1,j=0;if(e){for(e=createCallback(e);++i<f;)if(c=d[i],b=e(c),!h(g,b)&&(g.push(b),a(c,j++)===!1))return!1}else for(;++i<f;)if(c=d[i],!h(g,c)&&(g.push(c),a(c,j++)===!1))return!1;return!0},UniqueArrayWrapper.prototype.eachSetCache=UniqueSequence.prototype.each,ConcatArrayWrapper.prototype=new ArrayLikeSequence,ConcatArrayWrapper.prototype.get=function(a){var b=this.parent.source,c=b.length;return c>a?b[a]:this.other[a-c]},ConcatArrayWrapper.prototype.length=function(){return this.parent.source.length+this.other.length},ConcatArrayWrapper.prototype.each=function(a){for(var b=this.parent.source,c=b.length,d=this.other,e=d.length,f=0,g=-1;++g<c;)if(a(b[g],f++)===!1)return!1;for(g=-1;++g<e;)if(a(d[g],f++)===!1)return!1;return!0},ObjectLikeSequence.prototype=new Sequence,ObjectLikeSequence.define=function(a,b){if(!b||"function"!=typeof b.each)throw"A custom object-like sequence must implement *at least* each!";return defineSequenceType(ObjectLikeSequence,a,b)},ObjectLikeSequence.prototype.value=function(){return this.toObject()},ObjectLikeSequence.prototype.get=function(a){var b=this.pairs().find(function(b){return b[0]===a});return b?b[1]:void 0},ObjectLikeSequence.prototype.keys=function(){return this.map(function(a,b){return b})},ObjectLikeSequence.prototype.values=function(){return this.map(function(a){return a})},ObjectLikeSequence.prototype.async=function(){throw"An ObjectLikeSequence does not support asynchronous iteration."},ObjectLikeSequence.prototype.reverse=function(){return this},ObjectLikeSequence.prototype.assign=function(a){return new AssignSequence(this,a)},ObjectLikeSequence.prototype.extend=function(a){return this.assign(a)},AssignSequence.prototype=new ObjectLikeSequence,AssignSequence.prototype.get=function(a){return this.other[a]||this.parent.get(a)},AssignSequence.prototype.each=function(a){var b=new Set,c=!1;return Lazy(this.other).each(function(d,e){return a(d,e)===!1?(c=!0,!1):void b.add(e)}),c?void 0:this.parent.each(function(c,d){return b.contains(d)||a(c,d)!==!1?void 0:!1})},ObjectLikeSequence.prototype.defaults=function a(a){return new DefaultsSequence(this,a)},DefaultsSequence.prototype=new ObjectLikeSequence,DefaultsSequence.prototype.get=function(a){return this.parent.get(a)||this.defaults[a]},DefaultsSequence.prototype.each=function(a){var b=new Set,c=!1;this.parent.each(function(d,e){return a(d,e)===!1?(c=!0,!1):void("undefined"!=typeof d&&b.add(e))}),c||Lazy(this.defaults).each(function(c,d){return b.contains(d)||a(c,d)!==!1?void 0:!1})},ObjectLikeSequence.prototype.invert=function(){return new InvertedSequence(this)},InvertedSequence.prototype=new ObjectLikeSequence,InvertedSequence.prototype.each=function(a){this.parent.each(function(b,c){return a(c,b)})},ObjectLikeSequence.prototype.merge=function(){var a=arguments.length>1&&"function"==typeof arguments[arguments.length-1]?arrayPop.call(arguments):null;return new MergedSequence(this,arraySlice.call(arguments,0),a)},MergedSequence.prototype=new ObjectLikeSequence,MergedSequence.prototype.each=function(a){var b=this.others,c=this.mergeFn||mergeObjects,d={},e=this.parent.each(function(e,f){var g=e;return forEach(b,function(a){f in a&&(g=c(g,a[f]))}),d[f]=!0,a(g,f)});if(e===!1)return!1;var f={};return forEach(b,function(a){for(var b in a)d[b]||(f[b]=c(f[b],a[b]))}),Lazy(f).each(a)},ObjectLikeSequence.prototype.functions=function(){return this.filter(function(a){return"function"==typeof a}).map(function(a,b){return b})},ObjectLikeSequence.prototype.methods=function(){return this.functions()},ObjectLikeSequence.prototype.pick=function(a){return new PickSequence(this,a)},PickSequence.prototype=new ObjectLikeSequence,PickSequence.prototype.get=function(a){return arrayContains(this.properties,a)?this.parent.get(a):void 0},PickSequence.prototype.each=function(a){var b=arrayContains,c=this.properties;return this.parent.each(function(d,e){return b(c,e)?a(d,e):void 0})},ObjectLikeSequence.prototype.omit=function(a){return new OmitSequence(this,a)},OmitSequence.prototype=new ObjectLikeSequence,OmitSequence.prototype.get=function(a){return arrayContains(this.properties,a)?void 0:this.parent.get(a)},OmitSequence.prototype.each=function(a){var b=arrayContains,c=this.properties;return this.parent.each(function(d,e){return b(c,e)?void 0:a(d,e)})},ObjectLikeSequence.prototype.pairs=function(){return this.map(function(a,b){return[b,a]})},ObjectLikeSequence.prototype.toArray=function(){return this.pairs().toArray()},ObjectLikeSequence.prototype.toObject=function(){return this.reduce(function(a,b,c){return a[c]=b,a},{})},GroupedSequence.prototype=new ObjectLikeSequence,GroupedSequence.prototype.each=function(a){var b=createCallback(this.keyFn),c={};this.parent.each(function(a){var d=b(a);c[d]?c[d].push(a):c[d]=[a]});for(var d in c)if(a(c[d],d)===!1)return!1;return!0},CountedSequence.prototype=new ObjectLikeSequence,CountedSequence.prototype.each=function(a){var b=createCallback(this.keyFn),c={};this.parent.each(function(a){var d=b(a);
c[d]?c[d]+=1:c[d]=1});for(var d in c)if(a(c[d],d)===!1)return!1;return!0},ObjectLikeSequence.prototype.watch=function(){throw"You can only call #watch on a directly wrapped object."},ObjectWrapper.prototype=new ObjectLikeSequence,ObjectWrapper.prototype.root=function(){return this},ObjectWrapper.prototype.get=function(a){return this.source[a]},ObjectWrapper.prototype.each=function(a){var b,c=this.source;for(b in c)if(a(c[b],b)===!1)return!1;return!0},StringLikeSequence.prototype=new ArrayLikeSequence,StringLikeSequence.define=function(a,b){if(!b||"function"!=typeof b.get)throw"A custom string-like sequence must implement *at least* get!";return defineSequenceType(StringLikeSequence,a,b)},StringLikeSequence.prototype.value=function(){return this.toString()},StringLikeSequence.prototype.getIterator=function(){return new CharIterator(this)},CharIterator.prototype.current=function(){return this.source.charAt(this.index)},CharIterator.prototype.moveNext=function(){return++this.index<this.source.length()},StringLikeSequence.prototype.charAt=function(a){return this.get(a)},StringLikeSequence.prototype.charCodeAt=function(a){var b=this.charAt(a);return b?b.charCodeAt(0):0/0},StringLikeSequence.prototype.substring=function(a,b){return new StringSegment(this,a,b)},StringSegment.prototype=new StringLikeSequence,StringSegment.prototype.get=function(a){return this.parent.get(a+this.start)},StringSegment.prototype.length=function(){return("number"==typeof this.stop?this.stop:this.parent.length())-this.start},StringLikeSequence.prototype.first=function(a){return"undefined"==typeof a?this.charAt(0):this.substring(0,a)},StringLikeSequence.prototype.last=function(a){return"undefined"==typeof a?this.charAt(this.length()-1):this.substring(this.length()-a)},StringLikeSequence.prototype.drop=function(a){return this.substring(a)},StringLikeSequence.prototype.indexOf=function(a,b){return this.toString().indexOf(a,b)},StringLikeSequence.prototype.lastIndexOf=function(a,b){return this.toString().lastIndexOf(a,b)},StringLikeSequence.prototype.contains=function(a){return-1!==this.indexOf(a)},StringLikeSequence.prototype.endsWith=function(a){return this.substring(this.length()-a.length).toString()===a},StringLikeSequence.prototype.startsWith=function(a){return this.substring(0,a.length).toString()===a},StringLikeSequence.prototype.toUpperCase=function(){return this.mapString(function(a){return a.toUpperCase()})},StringLikeSequence.prototype.toLowerCase=function(){return this.mapString(function(a){return a.toLowerCase()})},StringLikeSequence.prototype.mapString=function(a){return new MappedStringLikeSequence(this,a)},MappedStringLikeSequence.prototype=new StringLikeSequence,MappedStringLikeSequence.prototype.get=IndexedMappedSequence.prototype.get,MappedStringLikeSequence.prototype.length=IndexedMappedSequence.prototype.length,StringLikeSequence.prototype.reverse=function(){return new ReversedStringLikeSequence(this)},ReversedStringLikeSequence.prototype=new StringLikeSequence,ReversedStringLikeSequence.prototype.get=IndexedReversedSequence.prototype.get,ReversedStringLikeSequence.prototype.length=IndexedReversedSequence.prototype.length,StringLikeSequence.prototype.toString=function(){return this.join("")},StringLikeSequence.prototype.match=function(a){return new StringMatchSequence(this.source,a)},StringMatchSequence.prototype=new Sequence,StringMatchSequence.prototype.getIterator=function(){return new StringMatchIterator(this.source,this.pattern)},StringMatchIterator.prototype.current=function(){return this.match[0]},StringMatchIterator.prototype.moveNext=function(){return!!(this.match=this.pattern.exec(this.source))},StringLikeSequence.prototype.split=function(a){return new SplitStringSequence(this.source,a)},SplitStringSequence.prototype=new Sequence,SplitStringSequence.prototype.getIterator=function(){return this.pattern instanceof RegExp?""===this.pattern.source||"(?:)"===this.pattern.source?new CharIterator(this.source):new SplitWithRegExpIterator(this.source,this.pattern):""===this.pattern?new CharIterator(this.source):new SplitWithStringIterator(this.source,this.pattern)},SplitWithRegExpIterator.prototype.current=function(){return this.source.substring(this.start,this.end)},SplitWithRegExpIterator.prototype.moveNext=function(){if(!this.pattern)return!1;var a=this.pattern.exec(this.source);return a?(this.start=this.nextStart?this.nextStart:0,this.end=a.index,this.nextStart=a.index+a[0].length,!0):this.pattern?(this.start=this.nextStart,this.end=void 0,this.nextStart=void 0,this.pattern=void 0,!0):!1},SplitWithStringIterator.prototype.current=function(){return this.source.substring(this.leftIndex,this.rightIndex)},SplitWithStringIterator.prototype.moveNext=function(){return this.finished||(this.leftIndex="undefined"!=typeof this.leftIndex?this.rightIndex+this.delimiter.length:0,this.rightIndex=this.source.indexOf(this.delimiter,this.leftIndex)),-1===this.rightIndex?(this.finished=!0,this.rightIndex=void 0,!0):!this.finished},StringWrapper.prototype=new StringLikeSequence,StringWrapper.prototype.root=function(){return this},StringWrapper.prototype.get=function(a){return this.source.charAt(a)},StringWrapper.prototype.length=function(){return this.source.length},GeneratedSequence.prototype=new Sequence,GeneratedSequence.prototype.length=function(){return this.fixedLength},GeneratedSequence.prototype.each=function(a){for(var b=this.get,c=this.fixedLength,d=0;"undefined"==typeof c||c>d;)if(a(b(d++))===!1)return!1;return!0},GeneratedSequence.prototype.getIterator=function(){return new GeneratedIterator(this)},GeneratedIterator.prototype.current=function(){return this.currentValue},GeneratedIterator.prototype.moveNext=function(){var a=this.sequence;return"number"==typeof a.fixedLength&&this.index>=a.fixedLength?!1:(this.currentValue=a.get(this.index++),!0)},AsyncSequence.prototype=new Sequence,AsyncSequence.prototype.getIterator=function(){throw"An AsyncSequence does not support synchronous iteration."},AsyncSequence.prototype.each=function(a){var b=this.parent.getIterator(),c=this.onNextCallback,d=0,e=new AsyncHandle(this.interval);return e.id=c(function f(){try{b.moveNext()&&a(b.current(),d++)!==!1?e.id=c(f):e.completeCallback()}catch(g){e.errorCallback(g)}}),e},AsyncHandle.prototype.cancel=function(){var a=this.cancelCallback;this.id&&(a(this.id),this.id=null)},AsyncHandle.prototype.onError=function(a){this.errorCallback=a},AsyncHandle.prototype.errorCallback=Lazy.noop,AsyncHandle.prototype.onComplete=function(a){this.completeCallback=a},AsyncHandle.prototype.completeCallback=Lazy.noop,AsyncSequence.prototype.reverse=function(){return this.parent.reverse().async()},AsyncSequence.prototype.reduce=function(a,b){var c=this.each(function(c,d){b="undefined"==typeof b&&0===d?c:a(b,c,d)});return c.then=c.onComplete=function(a){c.completeCallback=function(){a(b)}},c},AsyncSequence.prototype.find=function(a){var b,c=this.each(function(c,d){return a(c,d)?(b=c,!1):void 0});return c.then=c.onComplete=function(a){c.completeCallback=function(){a(b)}},c},AsyncSequence.prototype.indexOf=function(a){var b=-1,c=this.each(function(c,d){return c===a?(b=d,!1):void 0});return c.then=c.onComplete=function(a){c.completeCallback=function(){a(b)}},c},AsyncSequence.prototype.contains=function(a){var b=!1,c=this.each(function(c){return c===a?(b=!0,!1):void 0});return c.then=c.onComplete=function(a){c.completeCallback=function(){a(b)}},c},AsyncSequence.prototype.async=function(){return this},ObjectWrapper.prototype.watch=function(a){return new WatchedPropertySequence(this.source,a)},WatchedPropertySequence.prototype=new AsyncSequence,WatchedPropertySequence.prototype.each=function(a){this.listeners.push(a)},StreamLikeSequence.prototype=new AsyncSequence,StreamLikeSequence.prototype.split=function(a){return new SplitStreamSequence(this,a)},SplitStreamSequence.prototype=new Sequence,SplitStreamSequence.prototype.each=function(a){var b=this.delimiter,c=!1,d=0;return this.parent.each(function(e){return Lazy(e).split(b).each(function(b){return a(b,d++)===!1?(c=!0,!1):void 0}),!c})},StreamLikeSequence.prototype.lines=function(){return this.split("\n")},StreamLikeSequence.prototype.match=function(a){return new MatchedStreamSequence(this,a)},MatchedStreamSequence.prototype=new AsyncSequence,MatchedStreamSequence.prototype.each=function(a){var b=this.pattern,c=!1,d=0;return this.parent.each(function(e){return Lazy(e).match(b).each(function(b){return a(b,d++)===!1?(c=!0,!1):void 0}),!c})},Lazy.createWrapper=function(a){var b=function(){this.listeners=[]};return b.prototype=new StreamLikeSequence,b.prototype.each=function(a){this.listeners.push(a)},b.prototype.emit=function(a){for(var b=this.listeners,c=b.length,d=c-1;d>=0;--d)b[d](a)===!1&&b.splice(d,1)},function(){var c=new b;return a.apply(c,arguments),c}},Lazy.generate=function(a,b){return new GeneratedSequence(a,b)},Lazy.range=function(){var a=arguments.length>1?arguments[0]:0,b=arguments.length>1?arguments[1]:arguments[0],c=arguments.length>2?arguments[2]:1;return this.generate(function(b){return a+c*b}).take(Math.floor((b-a)/c))},Lazy.repeat=function(a,b){return Lazy.generate(function(){return a},b)},Lazy.Sequence=Sequence,Lazy.ArrayLikeSequence=ArrayLikeSequence,Lazy.ObjectLikeSequence=ObjectLikeSequence,Lazy.StringLikeSequence=StringLikeSequence,Lazy.StreamLikeSequence=StreamLikeSequence,Lazy.GeneratedSequence=GeneratedSequence,Lazy.AsyncSequence=AsyncSequence,Lazy.AsyncHandle=AsyncHandle,Lazy.deprecate=function(a,b){return function(){return b.apply(this,arguments)}};var arrayPop=Array.prototype.pop,arraySlice=Array.prototype.slice;Set.prototype.add=function(a){var b,c=this.table,d=typeof a;switch(d){case"number":case"boolean":case"undefined":return c[a]?!1:(c[a]=!0,!0);case"string":switch(a.charAt(0)){case"_":case"f":case"t":case"c":case"u":case"@":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"N":a="@"+a}return c[a]?!1:(c[a]=!0,!0);default:return b=this.objects,arrayContains(b,a)?!1:(b.push(a),!0)}},Set.prototype.contains=function(a){var b=typeof a;switch(b){case"number":case"boolean":case"undefined":return!!this.table[a];case"string":switch(a.charAt(0)){case"_":case"f":case"t":case"c":case"u":case"@":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"N":a="@"+a}return!!this.table[a];default:return arrayContains(this.objects,a)}},Queue.prototype.add=function(a){var b=this.contents,c=b.length,d=this.start;return this.count===c?(b[d]=a,this.start=(d+1)%c):b[this.count++]=a,this},Queue.prototype.toArray=function(){var a=this.contents,b=this.start,c=this.count,d=a.slice(b,b+c);return d.length<c&&(d=d.concat(a.slice(0,c-d.length))),d},"object"==typeof module&&module&&module.exports===context?module.exports=Lazy:context.Lazy=Lazy}(this),function(a,b,c){"use strict";function d(a){return null!=a&&""!==a&&"hasOwnProperty"!==a&&h.test("."+a)}function e(a,b){if(!d(b))throw g("badmember",'Dotted member path "@{0}" is invalid.',b);for(var e=b.split("."),f=0,h=e.length;h>f&&a!==c;f++){var i=e[f];a=null!==a?a[i]:c}return a}function f(a,c){c=c||{},b.forEach(c,function(a,b){delete c[b]});for(var d in a)!a.hasOwnProperty(d)||"$"===d.charAt(0)&&"$"===d.charAt(1)||(c[d]=a[d]);return c}var g=b.$$minErr("$resource"),h=/^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;b.module("ngResource",["ng"]).factory("$resource",["$http","$q",function(a,d){function h(a){return i(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function i(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}function j(a,b){this.template=a,this.defaults=b||{},this.urlParams={}}function k(h,i,r){function s(a,b){var c={};return b=o({},i,b),n(b,function(b,d){q(b)&&(b=b()),c[d]=b&&b.charAt&&"@"==b.charAt(0)?e(a,b.substr(1)):b}),c}function t(a){return a.resource}function u(a){f(a||{},this)}var v=new j(h);return r=o({},l,r),n(r,function(e,h){var i=/^(POST|PUT|PATCH)$/i.test(e.method);u[h]=function(h,j,k,l){var r,w,x,y={};switch(arguments.length){case 4:x=l,w=k;case 3:case 2:if(!q(j)){y=h,r=j,w=k;break}if(q(h)){w=h,x=j;break}w=j,x=k;case 1:q(h)?w=h:i?r=h:y=h;break;case 0:break;default:throw g("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var z=this instanceof u,A=z?r:e.isArray?[]:new u(r),B={},C=e.interceptor&&e.interceptor.response||t,D=e.interceptor&&e.interceptor.responseError||c;n(e,function(a,b){"params"!=b&&"isArray"!=b&&"interceptor"!=b&&(B[b]=p(a))}),i&&(B.data=r),v.setUrlParams(B,o({},s(r,e.params||{}),y),e.url);var E=a(B).then(function(a){var c=a.data,d=A.$promise;if(c){if(b.isArray(c)!==!!e.isArray)throw g("badcfg","Error in resource configuration. Expected response to contain an {0} but got an {1}",e.isArray?"array":"object",b.isArray(c)?"array":"object");e.isArray?(A.length=0,n(c,function(a){A.push("object"==typeof a?new u(a):a)})):(f(c,A),A.$promise=d)}return A.$resolved=!0,a.resource=A,a},function(a){return A.$resolved=!0,(x||m)(a),d.reject(a)});return E=E.then(function(a){var b=C(a);return(w||m)(b,a.headers),b},D),z?E:(A.$promise=E,A.$resolved=!1,A)},u.prototype["$"+h]=function(a,b,c){q(a)&&(c=b,b=a,a={});var d=u[h].call(this,a,this,b,c);return d.$promise||d}}),u.bind=function(a){return k(h,o({},i,a),r)},u}var l={get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}},m=b.noop,n=b.forEach,o=b.extend,p=b.copy,q=b.isFunction;return j.prototype={setUrlParams:function(a,c,d){var e,f,i=this,j=d||i.template,k=i.urlParams={};n(j.split(/\W/),function(a){if("hasOwnProperty"===a)throw g("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(a)&&a&&new RegExp("(^|[^\\\\]):"+a+"(\\W|$)").test(j)&&(k[a]=!0)}),j=j.replace(/\\:/g,":"),c=c||{},n(i.urlParams,function(a,d){e=c.hasOwnProperty(d)?c[d]:i.defaults[d],b.isDefined(e)&&null!==e?(f=h(e),j=j.replace(new RegExp(":"+d+"(\\W|$)","g"),function(a,b){return f+b})):j=j.replace(new RegExp("(/?):"+d+"(\\W|$)","g"),function(a,b,c){return"/"==c.charAt(0)?c:b+c})}),j=j.replace(/\/+$/,"")||"/",j=j.replace(/\/\.(?=\w+($|\?))/,"."),a.url=j.replace(/\/\\\./,"/."),n(c,function(b,c){i.urlParams[c]||(a.params=a.params||{},a.params[c]=b)})}},k}])}(window,window.angular),function(a,b,c){"use strict";b.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(a,d){function e(){var a,e,f,i;for(a in h)k(g[a])&&d.cookies(a,c);for(a in g)e=g[a],b.isString(e)||(e=""+e,g[a]=e),e!==h[a]&&(d.cookies(a,e),i=!0);if(i){i=!1,f=d.cookies();for(a in g)g[a]!==f[a]&&(k(f[a])?delete g[a]:g[a]=f[a],i=!0)}}var f,g={},h={},i=!1,j=b.copy,k=b.isUndefined;return d.addPollFn(function(){var b=d.cookies();f!=b&&(f=b,j(b,h),j(b,g),i&&a.$apply())})(),i=!0,a.$watch(e),g}]).factory("$cookieStore",["$cookies",function(a){return{get:function(c){var d=a[c];return d?b.fromJson(d):d},put:function(c,d){a[c]=b.toJson(d)},remove:function(b){delete a[b]}}}])}(window,window.angular),function(a,b){"use strict";function c(){this.$get=["$$sanitizeUri",function(a){return function(b){var c=[];return f(b,i(c,function(b,c){return!/^unsafe/.test(a(b,c))})),c.join("")}}]}function d(a){var c=[],d=i(c,b.noop);return d.chars(a),c.join("")}function e(a){var b,c={},d=a.split(",");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}function f(a,c){function d(a,d,f,h){if(d=b.lowercase(d),y[d])for(;t.last()&&z[t.last()];)e("",t.last());x[d]&&t.last()==d&&e("",d),h=u[d]||!!h,h||t.push(d);var i={};f.replace(m,function(a,b,c,d,e){var f=c||d||e||"";i[b]=g(f)}),c.start&&c.start(d,i,h)}function e(a,d){var e,f=0;if(d=b.lowercase(d))for(f=t.length-1;f>=0&&t[f]!=d;f--);if(f>=0){for(e=t.length-1;e>=f;e--)c.end&&c.end(t[e]);t.length=f}}"string"!=typeof a&&(a=null===a||"undefined"==typeof a?"":""+a);var f,h,i,s,t=[],v=a;for(t.last=function(){return t[t.length-1]};a;){if(s="",h=!0,t.last()&&A[t.last()]?(a=a.replace(new RegExp("(.*)<\\s*\\/\\s*"+t.last()+"[^>]*>","i"),function(a,b){return b=b.replace(p,"$1").replace(r,"$1"),c.chars&&c.chars(g(b)),""}),e("",t.last())):(0===a.indexOf("<!--")?(f=a.indexOf("--",4),f>=0&&a.lastIndexOf("-->",f)===f&&(c.comment&&c.comment(a.substring(4,f)),a=a.substring(f+3),h=!1)):q.test(a)?(i=a.match(q),i&&(a=a.replace(i[0],""),h=!1)):o.test(a)?(i=a.match(l),i&&(a=a.substring(i[0].length),i[0].replace(l,e),h=!1)):n.test(a)&&(i=a.match(k),i?(i[4]&&(a=a.substring(i[0].length),i[0].replace(k,d)),h=!1):(s+="<",a=a.substring(1))),h&&(f=a.indexOf("<"),s+=0>f?a:a.substring(0,f),a=0>f?"":a.substring(f),c.chars&&c.chars(g(s)))),a==v)throw j("badparse","The sanitizer was unable to parse the following block of html: {0}",a);v=a}e()}function g(a){if(!a)return"";var b=F.exec(a),c=b[1],d=b[3],e=b[2];return e&&(E.innerHTML=e.replace(/</g,"&lt;"),e="textContent"in E?E.textContent:E.innerText),c+e+d}function h(a){return a.replace(/&/g,"&amp;").replace(s,function(a){var b=a.charCodeAt(0),c=a.charCodeAt(1);return"&#"+(1024*(b-55296)+(c-56320)+65536)+";"}).replace(t,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function i(a,c){var d=!1,e=b.bind(a,a.push);return{start:function(a,f,g){a=b.lowercase(a),!d&&A[a]&&(d=a),d||B[a]!==!0||(e("<"),e(a),b.forEach(f,function(d,f){var g=b.lowercase(f),i="img"===a&&"src"===g||"background"===g;D[g]!==!0||C[g]===!0&&!c(d,i)||(e(" "),e(f),e('="'),e(h(d)),e('"'))}),e(g?"/>":">"))},end:function(a){a=b.lowercase(a),d||B[a]!==!0||(e("</"),e(a),e(">")),a==d&&(d=!1)},chars:function(a){d||e(h(a))}}}var j=b.$$minErr("$sanitize"),k=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,l=/^<\/\s*([\w:-]+)[^>]*>/,m=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,n=/^</,o=/^<\//,p=/<!--(.*?)-->/g,q=/<!DOCTYPE([^>]*?)>/i,r=/<!\[CDATA\[(.*?)]]>/g,s=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,t=/([^\#-~| |!])/g,u=e("area,br,col,hr,img,wbr"),v=e("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),w=e("rp,rt"),x=b.extend({},w,v),y=b.extend({},v,e("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),z=b.extend({},w,e("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),A=e("script,style"),B=b.extend({},u,y,z,x),C=e("background,cite,href,longdesc,src,usemap"),D=b.extend({},C,e("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width")),E=document.createElement("pre"),F=/^(\s*)([\s\S]*?)(\s*)$/;b.module("ngSanitize",[]).provider("$sanitize",c),b.module("ngSanitize").filter("linky",["$sanitize",function(a){var c=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/,e=/^mailto:/;return function(f,g){function h(a){a&&n.push(d(a))}function i(a,c){n.push("<a "),b.isDefined(g)&&(n.push('target="'),n.push(g),n.push('" ')),n.push('href="'),n.push(a),n.push('">'),h(c),n.push("</a>")}if(!f)return f;for(var j,k,l,m=f,n=[];j=m.match(c);)k=j[0],j[2]==j[3]&&(k="mailto:"+k),l=j.index,h(m.substr(0,l)),i(k,j[0].replace(e,"")),m=m.substring(l+j[0].length);return h(m),a(n.join(""))}}])}(window,window.angular),function(a,b){"use strict";function c(){function a(a,c){return b.extend(new(b.extend(function(){},{prototype:a})),c)}function c(a,b){var c=b.caseInsensitiveMatch,d={originalPath:a,regexp:a},e=d.keys=[];return a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(a,b,c,d){var f="?"===d?d:null,g="*"===d?d:null;return e.push({name:c,optional:!!f}),b=b||"",""+(f?"":b)+"(?:"+(f?b:"")+(g&&"(.+?)"||"([^/]+)")+(f||"")+")"+(f||"")}).replace(/([\/$\*])/g,"\\$1"),d.regexp=new RegExp("^"+a+"$",c?"i":""),d}var d={};this.when=function(a,e){if(d[a]=b.extend({reloadOnSearch:!0},e,a&&c(a,e)),a){var f="/"==a[a.length-1]?a.substr(0,a.length-1):a+"/";d[f]=b.extend({redirectTo:a},c(f,e))}return this},this.otherwise=function(a){return this.when(null,a),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(c,e,f,g,h,i,j,k){function l(a,b){var c=b.keys,d={};if(!b.regexp)return null;var e=b.regexp.exec(a);if(!e)return null;for(var f=1,g=e.length;g>f;++f){var h=c[f-1],i=e[f];h&&i&&(d[h.name]=i)}return d}function m(){var a=n(),d=q.current;a&&d&&a.$$route===d.$$route&&b.equals(a.pathParams,d.pathParams)&&!a.reloadOnSearch&&!p?(d.params=a.params,b.copy(d.params,f),c.$broadcast("$routeUpdate",d)):(a||d)&&(p=!1,c.$broadcast("$routeChangeStart",a,d),q.current=a,a&&a.redirectTo&&(b.isString(a.redirectTo)?e.path(o(a.redirectTo,a.params)).search(a.params).replace():e.url(a.redirectTo(a.pathParams,e.path(),e.search())).replace()),g.when(a).then(function(){if(a){var c,d,e=b.extend({},a.resolve);return b.forEach(e,function(a,c){e[c]=b.isString(a)?h.get(a):h.invoke(a)}),b.isDefined(c=a.template)?b.isFunction(c)&&(c=c(a.params)):b.isDefined(d=a.templateUrl)&&(b.isFunction(d)&&(d=d(a.params)),d=k.getTrustedResourceUrl(d),b.isDefined(d)&&(a.loadedTemplateUrl=d,c=i.get(d,{cache:j}).then(function(a){return a.data}))),b.isDefined(c)&&(e.$template=c),g.all(e)}}).then(function(e){a==q.current&&(a&&(a.locals=e,b.copy(a.params,f)),c.$broadcast("$routeChangeSuccess",a,d))},function(b){a==q.current&&c.$broadcast("$routeChangeError",a,d,b)}))}function n(){var c,f;return b.forEach(d,function(d){!f&&(c=l(e.path(),d))&&(f=a(d,{params:b.extend({},e.search(),c),pathParams:c}),f.$$route=d)}),f||d[null]&&a(d[null],{params:{},pathParams:{}})}function o(a,c){var d=[];return b.forEach((a||"").split(":"),function(a,b){if(0===b)d.push(a);else{var e=a.match(/(\w+)(.*)/),f=e[1];d.push(c[f]),d.push(e[2]||""),delete c[f]}}),d.join("")}var p=!1,q={routes:d,reload:function(){p=!0,c.$evalAsync(m)}};return c.$on("$locationChangeSuccess",m),q}]}function d(){this.$get=function(){return{}}}function e(a,c,d){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(e,f,g,h,i){function j(){n&&(n.remove(),n=null),l&&(l.$destroy(),l=null),m&&(d.leave(m,function(){n=null}),n=m,m=null)}function k(){var g=a.current&&a.current.locals,h=g&&g.$template;if(b.isDefined(h)){var k=e.$new(),n=a.current,q=i(k,function(a){d.enter(a,null,m||f,function(){!b.isDefined(o)||o&&!e.$eval(o)||c()}),j()});m=q,l=n.scope=k,l.$emit("$viewContentLoaded"),l.$eval(p)}else j()}var l,m,n,o=g.autoscroll,p=g.onload||"";e.$on("$routeChangeSuccess",k),k()}}}function f(a,b,c){return{restrict:"ECA",priority:-400,link:function(d,e){var f=c.current,g=f.locals;e.html(g.$template);var h=a(e.contents());if(f.controller){g.$scope=d;var i=b(f.controller,g);f.controllerAs&&(d[f.controllerAs]=i),e.data("$ngControllerController",i),e.children().data("$ngControllerController",i)}h(d)}}}var g=b.module("ngRoute",["ng"]).provider("$route",c);g.provider("$routeParams",d),g.directive("ngView",e),g.directive("ngView",f),e.$inject=["$route","$anchorScroll","$animate"],f.$inject=["$compile","$controller","$route"]}(window,window.angular),angular.module("ui.bootstrap",["ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdownToggle","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(a,b,c){function d(a){for(var b in a)if(void 0!==f.style[b])return a[b]}var e=function(d,f,g){g=g||{};var h=a.defer(),i=e[g.animation?"animationEndEventName":"transitionEndEventName"],j=function(){c.$apply(function(){d.unbind(i,j),h.resolve(d)})};return i&&d.bind(i,j),b(function(){angular.isString(f)?d.addClass(f):angular.isFunction(f)?f(d):angular.isObject(f)&&d.css(f),i||h.resolve(d)}),h.promise.cancel=function(){i&&d.unbind(i,j),h.reject("Transition cancelled")},h.promise},f=document.createElement("trans"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},h={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return e.transitionEndEventName=d(g),e.animationEndEventName=d(h),e}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(a){var b=function(a,b,c){b.removeClass("collapse"),b.css({height:c});b[0].offsetWidth;b.addClass("collapse")};return{link:function(c,d,e){var f,g=!0;c.$watch(e.collapse,function(a){a?k():j()});var h,i=function(b){return h&&h.cancel(),h=a(d,b),h.then(function(){h=void 0},function(){h=void 0}),h},j=function(){g?(g=!1,f||(b(c,d,"auto"),d.addClass("in"))):i({height:d[0].scrollHeight+"px"}).then(function(){f||(b(c,d,"auto"),d.addClass("in"))}),f=!1},k=function(){f=!0,d.removeClass("in"),g?(g=!1,b(c,d,0)):(b(c,d,d[0].scrollHeight+"px"),i({height:"0"}))}}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(a,b,c){this.groups=[],this.scope=a,this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(this.groups.indexOf(a),1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",["$parse","$transition","$timeout",function(a){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@"},controller:["$scope",function(){this.setHeading=function(a){this.heading=a}}],link:function(b,c,d,e){var f,g;e.addGroup(b),b.isOpen=!1,d.isOpen&&(f=a(d.isOpen),g=f.assign,e.scope.$watch(f,function(a){b.isOpen=!!a})),b.$watch("isOpen",function(a){a&&e.closeOthers(b),g&&g(e.scope,a)})}}}]).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",compile:function(a,b,c){return function(a,b,d,e){e.setHeading(c(a,function(){}))}}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(a,b,c,d){a.$watch(function(){return d[c.accordionTransclude]},function(a){a&&(b.html(""),b.append(a))})}}}),angular.module("ui.bootstrap.alert",[]).directive("alert",function(){return{restrict:"EA",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"},link:function(a,b,c){a.closeable="close"in c}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(a,b,c){b.addClass("ng-binding").data("$binding",c.bindHtmlUnsafe),a.$watch(c.bindHtmlUnsafe,function(a){b.html(a||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).directive("btnRadio",["buttonConfig",function(a){var b=a.activeClass||"active",c=a.toggleEvent||"click";return{require:"ngModel",link:function(a,d,e,f){f.$render=function(){d.toggleClass(b,angular.equals(f.$modelValue,a.$eval(e.btnRadio)))},d.bind(c,function(){d.hasClass(b)||a.$apply(function(){f.$setViewValue(a.$eval(e.btnRadio)),f.$render()})})}}}]).directive("btnCheckbox",["buttonConfig",function(a){var b=a.activeClass||"active",c=a.toggleEvent||"click";return{require:"ngModel",link:function(a,d,e,f){function g(){var b=a.$eval(e.btnCheckboxTrue);return angular.isDefined(b)?b:!0}function h(){var b=a.$eval(e.btnCheckboxFalse);return angular.isDefined(b)?b:!1}f.$render=function(){d.toggleClass(b,angular.equals(f.$modelValue,g()))},d.bind(c,function(){a.$apply(function(){f.$setViewValue(d.hasClass(b)?h():g()),f.$render()})})}}}]),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition","$q",function(a,b,c){function d(){function c(){f?(a.next(),d()):a.pause()}e&&b.cancel(e);var g=+a.interval;!isNaN(g)&&g>=0&&(e=b(c,g))}var e,f,g=this,h=g.slides=[],i=-1;g.currentSlide=null,g.select=function(e,f){function j(){if(g.currentSlide&&angular.isString(f)&&!a.noTransition&&e.$element){e.$element.addClass(f);{e.$element[0].offsetWidth}angular.forEach(h,function(a){angular.extend(a,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(e,{direction:f,active:!0,entering:!0}),angular.extend(g.currentSlide||{},{direction:f,leaving:!0}),a.$currentTransition=c(e.$element,{}),function(b,c){a.$currentTransition.then(function(){k(b,c)},function(){k(b,c)})}(e,g.currentSlide)}else k(e,g.currentSlide);g.currentSlide=e,i=l,d()}function k(b,c){angular.extend(b,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(c||{},{direction:"",active:!1,leaving:!1,entering:!1}),a.$currentTransition=null}var l=h.indexOf(e);void 0===f&&(f=l>i?"next":"prev"),e&&e!==g.currentSlide&&(a.$currentTransition?(a.$currentTransition.cancel(),b(j)):j())},g.indexOfSlide=function(a){return h.indexOf(a)},a.next=function(){var b=(i+1)%h.length;return a.$currentTransition?void 0:g.select(h[b],"next")},a.prev=function(){var b=0>i-1?h.length-1:i-1;return a.$currentTransition?void 0:g.select(h[b],"prev")},a.select=function(a){g.select(a)},a.isActive=function(a){return g.currentSlide===a},a.slides=function(){return h},a.$watch("interval",d),a.play=function(){f||(f=!0,d())},a.pause=function(){a.noPause||(f=!1,e&&b.cancel(e))},g.addSlide=function(b,c){b.$element=c,h.push(b),1===h.length||b.active?(g.select(h[h.length-1]),1==h.length&&a.play()):b.active=!1},g.removeSlide=function(a){var b=h.indexOf(a);h.splice(b,1),h.length>0&&a.active?g.select(b>=h.length?h[b-1]:h[b]):i>b&&i--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",["$parse",function(a){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{},link:function(b,c,d,e){if(d.active){var f=a(d.active),g=f.assign,h=b.active=f(b.$parent);b.$watch(function(){var a=f(b.$parent);return a!==b.active&&(a!==h?h=b.active=a:g(b.$parent,a=h=b.active)),a})}e.addSlide(b,c),b.$on("$destroy",function(){e.removeSlide(b)}),b.$watch("active",function(a){a&&e.select(b)})}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].body.scrollTop||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].body.scrollLeft||a[0].documentElement.scrollLeft)}
}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.position"]).constant("datepickerConfig",{dayFormat:"dd",monthFormat:"MMMM",yearFormat:"yyyy",dayHeaderFormat:"EEE",dayTitleFormat:"MMMM yyyy",monthTitleFormat:"yyyy",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","dateFilter","datepickerConfig",function(a,b,c,d){function e(b,c){return angular.isDefined(b)?a.$parent.$eval(b):c}function f(a,b){return new Date(a,b,0).getDate()}function g(a,b){for(var c=new Array(b),d=a,e=0;b>e;)c[e++]=new Date(d),d.setDate(d.getDate()+1);return c}function h(a,b,d,e){return{date:a,label:c(a,b),selected:!!d,secondary:!!e}}var i={day:e(b.dayFormat,d.dayFormat),month:e(b.monthFormat,d.monthFormat),year:e(b.yearFormat,d.yearFormat),dayHeader:e(b.dayHeaderFormat,d.dayHeaderFormat),dayTitle:e(b.dayTitleFormat,d.dayTitleFormat),monthTitle:e(b.monthTitleFormat,d.monthTitleFormat)},j=e(b.startingDay,d.startingDay),k=e(b.yearRange,d.yearRange);this.minDate=d.minDate?new Date(d.minDate):null,this.maxDate=d.maxDate?new Date(d.maxDate):null,this.modes=[{name:"day",getVisibleDates:function(a,b){var d=a.getFullYear(),e=a.getMonth(),k=new Date(d,e,1),l=j-k.getDay(),m=l>0?7-l:-l,n=new Date(k),o=0;m>0&&(n.setDate(-m+1),o+=m),o+=f(d,e+1),o+=(7-o%7)%7;for(var p=g(n,o),q=new Array(7),r=0;o>r;r++){var s=new Date(p[r]);p[r]=h(s,i.day,b&&b.getDate()===s.getDate()&&b.getMonth()===s.getMonth()&&b.getFullYear()===s.getFullYear(),s.getMonth()!==e)}for(var t=0;7>t;t++)q[t]=c(p[t].date,i.dayHeader);return{objects:p,title:c(a,i.dayTitle),labels:q}},compare:function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},split:7,step:{months:1}},{name:"month",getVisibleDates:function(a,b){for(var d=new Array(12),e=a.getFullYear(),f=0;12>f;f++){var g=new Date(e,f,1);d[f]=h(g,i.month,b&&b.getMonth()===f&&b.getFullYear()===e)}return{objects:d,title:c(a,i.monthTitle)}},compare:function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},split:3,step:{years:1}},{name:"year",getVisibleDates:function(a,b){for(var c=new Array(k),d=a.getFullYear(),e=parseInt((d-1)/k,10)*k+1,f=0;k>f;f++){var g=new Date(e+f,0,1);c[f]=h(g,i.year,b&&b.getFullYear()===g.getFullYear())}return{objects:c,title:[c[0].label,c[k-1].label].join(" - ")}},compare:function(a,b){return a.getFullYear()-b.getFullYear()},split:5,step:{years:k}}],this.isDisabled=function(b,c){var d=this.modes[c||0];return this.minDate&&d.compare(b,this.minDate)<0||this.maxDate&&d.compare(b,this.maxDate)>0||a.dateDisabled&&a.dateDisabled({date:b,mode:d.name})}}]).directive("datepicker",["dateFilter","$parse","datepickerConfig","$log",function(a,b,c){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(a,d,e,f){function g(){a.showWeekNumbers=0===n&&p}function h(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c}function i(b){var c=null,d=!0;m.$modelValue&&(c=new Date(m.$modelValue),isNaN(c)?d=!1:b&&(o=c)),m.$setValidity("date",d);var e=l.modes[n],f=e.getVisibleDates(o,c);angular.forEach(f.objects,function(a){a.disabled=l.isDisabled(a.date,n)}),m.$setValidity("date-disabled",!c||!l.isDisabled(c)),a.rows=h(f.objects,e.split),a.labels=f.labels||[],a.title=f.title}function j(a){n=a,g(),i()}function k(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}var l=f[0],m=f[1];if(m){var n=0,o=new Date,p=c.showWeeks;e.showWeeks?a.$parent.$watch(b(e.showWeeks),function(a){p=!!a,g()}):g(),e.min&&a.$parent.$watch(b(e.min),function(a){l.minDate=a?new Date(a):null,i()}),e.max&&a.$parent.$watch(b(e.max),function(a){l.maxDate=a?new Date(a):null,i()}),m.$render=function(){i(!0)},a.select=function(a){if(0===n){var b=new Date(m.$modelValue);b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),m.$setViewValue(b),i(!0)}else o=a,j(n-1)},a.move=function(a){var b=l.modes[n].step;o.setMonth(o.getMonth()+a*(b.months||0)),o.setFullYear(o.getFullYear()+a*(b.years||0)),i()},a.toggleMode=function(){j((n+1)%l.modes.length)},a.getWeekNumber=function(b){return 0===n&&a.showWeekNumbers&&7===b.length?k(b[0].date):null}}}}}]).constant("datepickerPopupConfig",{dateFormat:"yyyy-MM-dd",currentText:"Today",toggleWeeksText:"Weeks",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","datepickerPopupConfig","datepickerConfig",function(a,b,c,d,e,f,g){return{restrict:"EA",require:"ngModel",link:function(h,i,j,k){function l(a){v?v(h,!!a):t.isOpen=!!a}function m(a){if(a){if(angular.isDate(a))return k.$setValidity("date",!0),a;if(angular.isString(a)){var b=new Date(a);return isNaN(b)?void k.$setValidity("date",!1):(k.$setValidity("date",!0),b)}return void k.$setValidity("date",!1)}return k.$setValidity("date",!0),null}function n(){t.date=k.$modelValue,p()}function o(a,c,d){a&&(h.$watch(b(a),function(a){t[c]=a}),z.attr(d||c,c))}function p(){t.position=s?d.offset(i):d.position(i),t.position.top=t.position.top+i.prop("offsetHeight")}var q;j.$observe("datepickerPopup",function(a){q=a||f.dateFormat,k.$render()});var r=angular.isDefined(j.closeOnDateSelection)?h.$eval(j.closeOnDateSelection):f.closeOnDateSelection,s=angular.isDefined(j.datepickerAppendToBody)?h.$eval(j.datepickerAppendToBody):f.appendToBody,t=h.$new();h.$on("$destroy",function(){t.$destroy()}),j.$observe("currentText",function(a){t.currentText=angular.isDefined(a)?a:f.currentText}),j.$observe("toggleWeeksText",function(a){t.toggleWeeksText=angular.isDefined(a)?a:f.toggleWeeksText}),j.$observe("clearText",function(a){t.clearText=angular.isDefined(a)?a:f.clearText}),j.$observe("closeText",function(a){t.closeText=angular.isDefined(a)?a:f.closeText});var u,v;j.isOpen&&(u=b(j.isOpen),v=u.assign,h.$watch(u,function(a){t.isOpen=!!a})),t.isOpen=u?u(h):!1;var w=function(a){t.isOpen&&a.target!==i[0]&&t.$apply(function(){l(!1)})},x=function(){t.$apply(function(){l(!0)})},y=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");y.attr({"ng-model":"date","ng-change":"dateSelection()"});var z=angular.element(y.children()[0]);j.datepickerOptions&&z.attr(angular.extend({},h.$eval(j.datepickerOptions))),k.$parsers.unshift(m),t.dateSelection=function(){k.$setViewValue(t.date),k.$render(),r&&l(!1)},i.bind("input change keyup",function(){t.$apply(function(){n()})}),k.$render=function(){var a=k.$viewValue?e(k.$viewValue,q):"";i.val(a),n()},o(j.min,"min"),o(j.max,"max"),j.showWeeks?o(j.showWeeks,"showWeeks","show-weeks"):(t.showWeeks=g.showWeeks,z.attr("show-weeks","showWeeks")),j.dateDisabled&&z.attr("date-disabled",j.dateDisabled);var A=!1,B=!1;t.$watch("isOpen",function(a){a?(p(),c.bind("click",w),B&&i.unbind("focus",x),i[0].focus(),A=!0):(A&&c.unbind("click",w),i.bind("focus",x),B=!0),v&&v(h,a)});var C=b(j.ngModel).assign;t.today=function(){C(h,new Date)},t.clear=function(){C(h,null)};var D=a(y)(t);s?c.find("body").append(D):i.after(D)}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(a,b){b.bind("click",function(a){a.preventDefault(),a.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdownToggle",[]).directive("dropdownToggle",["$document","$location",function(a){var b=null,c=angular.noop;return{restrict:"CA",link:function(d,e){d.$watch("$location.path",function(){c()}),e.parent().bind("click",function(){c()}),e.bind("click",function(d){var f=e===b;d.preventDefault(),d.stopPropagation(),b&&c(),f||e.hasClass("disabled")||e.prop("disabled")||(e.parent().addClass("open"),b=e,c=function(d){d&&(d.preventDefault(),d.stopPropagation()),a.unbind("click",c),e.parent().removeClass("open"),c=angular.noop,b=null},a.bind("click",c))})}}}]),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).directive("modalBackdrop",["$modalStack","$timeout",function(a,b){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(c){b(function(){c.animate=!0}),c.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!=c.value.backdrop&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))}}}}]).directive("modalWindow",["$timeout",function(a){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:"template/modal/window.html",link:function(b,c,d){b.windowClass=d.windowClass||"",a(function(){b.animate=!0})}}}]).factory("$modalStack",["$document","$compile","$rootScope","$$stackedMap",function(a,b,c,d){function e(){for(var a=-1,b=k.keys(),c=0;c<b.length;c++)k.get(b[c]).value.backdrop&&(a=c);return a}function f(a){var b=k.get(a).value;k.remove(a),b.modalDomEl.remove(),h&&-1==e()&&(h.remove(),h=void 0),b.modalScope.$destroy()}var g,h,i=c.$new(!0),j=a.find("body").eq(0),k=d.createNew(),l={};return c.$watch(e,function(a){i.index=a}),a.bind("keydown",function(a){var b;27===a.which&&(b=k.top(),b&&b.value.keyboard&&c.$apply(function(){l.dismiss(b.key)}))}),l.open=function(a,c){k.add(a,{deferred:c.deferred,modalScope:c.scope,backdrop:c.backdrop,keyboard:c.keyboard});var d=angular.element("<div modal-window></div>");d.attr("window-class",c.windowClass),d.attr("index",k.length()-1),d.html(c.content);var f=b(d)(c.scope);k.top().value.modalDomEl=f,j.append(f),e()>=0&&!h&&(g=angular.element("<div modal-backdrop></div>"),h=b(g)(i),j.append(h))},l.close=function(a,b){var c=k.get(a);c&&(c.value.deferred.resolve(b),f(a))},l.dismiss=function(a,b){var c=k.get(a).value;c&&(c.deferred.reject(b),f(a))},l.getTop=function(){return k.top()},l}]).provider("$modal",function(){var a={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(b,c,d,e,f,g,h){function i(a){return a.template?d.when(a.template):e.get(a.templateUrl,{cache:f}).then(function(a){return a.data})}function j(a){var c=[];return angular.forEach(a,function(a){(angular.isFunction(a)||angular.isArray(a))&&c.push(d.when(b.invoke(a)))}),c}var k={};return k.open=function(b){var e=d.defer(),f=d.defer(),k={result:e.promise,opened:f.promise,close:function(a){h.close(k,a)},dismiss:function(a){h.dismiss(k,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var l=d.all([i(b)].concat(j(b.resolve)));return l.then(function(a){var d=(b.scope||c).$new();d.$close=k.close,d.$dismiss=k.dismiss;var f,i={},j=1;b.controller&&(i.$scope=d,i.$modalInstance=k,angular.forEach(b.resolve,function(b,c){i[c]=a[j++]}),f=g(b.controller,i)),h.open(k,{scope:d,deferred:e,content:a[0],backdrop:b.backdrop,keyboard:b.keyboard,windowClass:b.windowClass})},function(a){e.reject(a)}),l.then(function(){f.resolve(!0)},function(){f.reject(!1)}),k},k}]};return a}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse","$interpolate",function(a,b,c,d){var e=this,f=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(d){b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){e.itemsPerPage=parseInt(b,10),a.totalPages=e.calculateTotalPages()}):this.itemsPerPage=d},this.noPrevious=function(){return 1===this.page},this.noNext=function(){return this.page===a.totalPages},this.isActive=function(a){return this.page===a},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);return Math.max(b||0,1)},this.getAttributeValue=function(b,c,e){return angular.isDefined(b)?e?d(b)(a.$parent):a.$parent.$eval(b):c},this.render=function(){this.page=parseInt(a.page,10)||1,this.page>0&&this.page<=a.totalPages&&(a.pages=this.getPages(this.page,a.totalPages))},a.selectPage=function(b){!e.isActive(b)&&b>0&&b<=a.totalPages&&(a.page=b,a.onSelectPage({page:b}))},a.$watch("page",function(){e.render()}),a.$watch("totalItems",function(){a.totalPages=e.calculateTotalPages()}),a.$watch("totalPages",function(b){f(a.$parent,b),e.page>b?a.selectPage(b):e.render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(a,b){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(c,d,e,f){function g(a,b,c,d){return{number:a,text:b,active:c,disabled:d}}var h,i=f.getAttributeValue(e.boundaryLinks,b.boundaryLinks),j=f.getAttributeValue(e.directionLinks,b.directionLinks),k=f.getAttributeValue(e.firstText,b.firstText,!0),l=f.getAttributeValue(e.previousText,b.previousText,!0),m=f.getAttributeValue(e.nextText,b.nextText,!0),n=f.getAttributeValue(e.lastText,b.lastText,!0),o=f.getAttributeValue(e.rotate,b.rotate);f.init(b.itemsPerPage),e.maxSize&&c.$parent.$watch(a(e.maxSize),function(a){h=parseInt(a,10),f.render()}),f.getPages=function(a,b){var c=[],d=1,e=b,p=angular.isDefined(h)&&b>h;p&&(o?(d=Math.max(a-Math.floor(h/2),1),e=d+h-1,e>b&&(e=b,d=e-h+1)):(d=(Math.ceil(a/h)-1)*h+1,e=Math.min(d+h-1,b)));for(var q=d;e>=q;q++){var r=g(q,q,f.isActive(q),!1);c.push(r)}if(p&&!o){if(d>1){var s=g(d-1,"...",!1,!1);c.unshift(s)}if(b>e){var t=g(e+1,"...",!1,!1);c.push(t)}}if(j){var u=g(a-1,l,!1,f.noPrevious());c.unshift(u);var v=g(a+1,m,!1,f.noNext());c.push(v)}if(i){var w=g(1,k,!1,f.noPrevious());c.unshift(w);var x=g(b,n,!1,f.noNext());c.push(x)}return c}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("pager",["pagerConfig",function(a){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(b,c,d,e){function f(a,b,c,d,e){return{number:a,text:b,disabled:c,previous:i&&d,next:i&&e}}var g=e.getAttributeValue(d.previousText,a.previousText,!0),h=e.getAttributeValue(d.nextText,a.nextText,!0),i=e.getAttributeValue(d.align,a.align);e.init(a.itemsPerPage),e.getPages=function(a){return[f(a-1,g,e.noPrevious(),!0,!1),f(a+1,h,e.noNext(),!1,!0)]}}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}var b={placement:"top",animation:!0,popupDelay:0},c={mouseenter:"mouseleave",click:"click",focus:"blur"},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(e,f,g,h,i,j,k){return function(e,l,m){function n(a){var b=a||o.trigger||m,d=c[b]||b;return{show:b,hide:d}}var o=angular.extend({},b,d),p=a(e),q=k.startSymbol(),r=k.endSymbol(),s="<"+p+'-popup title="'+q+"tt_title"+r+'" content="'+q+"tt_content"+r+'" placement="'+q+"tt_placement"+r+'" animation="tt_animation" is-open="tt_isOpen"></'+p+"-popup>";return{restrict:"EA",scope:!0,link:function(a,b,c){function d(){a.tt_isOpen?m():k()}function k(){(!z||a.$eval(c[l+"Enable"]))&&(a.tt_popupDelay?t=g(p,a.tt_popupDelay):a.$apply(p))}function m(){a.$apply(function(){q()})}function p(){var c,d,e,f;if(a.tt_content){switch(r&&g.cancel(r),u.css({top:0,left:0,display:"block"}),w?v.append(u):b.after(u),c=w?j.offset(b):j.position(b),d=u.prop("offsetWidth"),e=u.prop("offsetHeight"),a.tt_placement){case"right":f={top:c.top+c.height/2-e/2,left:c.left+c.width};break;case"bottom":f={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"left":f={top:c.top+c.height/2-e/2,left:c.left-d};break;default:f={top:c.top-e,left:c.left+c.width/2-d/2}}f.top+="px",f.left+="px",u.css(f),a.tt_isOpen=!0}}function q(){a.tt_isOpen=!1,g.cancel(t),a.tt_animation?r=g(function(){u.remove()},500):u.remove()}var r,t,u=f(s)(a),v=i.find("body"),w=angular.isDefined(o.appendToBody)?o.appendToBody:!1,x=n(void 0),y=!1,z=angular.isDefined(c[l+"Enable"]);a.tt_isOpen=!1,c.$observe(e,function(b){b?a.tt_content=b:a.tt_isOpen&&q()}),c.$observe(l+"Title",function(b){a.tt_title=b}),c.$observe(l+"Placement",function(b){a.tt_placement=angular.isDefined(b)?b:o.placement}),c.$observe(l+"Animation",function(b){a.tt_animation=angular.isDefined(b)?!!b:o.animation}),c.$observe(l+"PopupDelay",function(b){var c=parseInt(b,10);a.tt_popupDelay=isNaN(c)?o.popupDelay:c}),c.$observe(l+"Trigger",function(a){y&&(b.unbind(x.show,k),b.unbind(x.hide,m)),x=n(a),x.show===x.hide?b.bind(x.show,d):(b.bind(x.show,k),b.bind(x.hide,m)),y=!0}),c.$observe(l+"AppendToBody",function(b){w=angular.isDefined(b)?h(b)(a):w}),w&&a.$on("$locationChangeSuccess",function(){a.tt_isOpen&&q()}),a.$on("$destroy",function(){g.cancel(t),u.remove(),u.unbind(),u=null,v=null})}}}}]}).directive("tooltipPopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(a){return a("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(a){return a("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$compile","$timeout","$parse","$window","$tooltip",function(a,b,c,d,e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",["ui.bootstrap.transition"]).constant("progressConfig",{animate:!0,autoType:!1,stackedTypes:["success","info","warning","danger"]}).controller("ProgressBarController",["$scope","$attrs","progressConfig",function(a,b,c){function d(a){return g[a]}var e=angular.isDefined(b.animate)?a.$eval(b.animate):c.animate,f=angular.isDefined(b.autoType)?a.$eval(b.autoType):c.autoType,g=angular.isDefined(b.stackedTypes)?a.$eval("["+b.stackedTypes+"]"):c.stackedTypes;this.makeBar=function(a,b,c){var g=angular.isObject(a)?a.value:a||0,h=angular.isObject(b)?b.value:b||0,i=angular.isObject(a)&&angular.isDefined(a.type)?a.type:f?d(c||0):null;return{from:h,to:g,type:i,animate:e}},this.addBar=function(b){a.bars.push(b),a.totalPercent+=b.to},this.clearBars=function(){a.bars=[],a.totalPercent=0},this.clearBars()}]).directive("progress",function(){return{restrict:"EA",replace:!0,controller:"ProgressBarController",scope:{value:"=percent",onFull:"&",onEmpty:"&"},templateUrl:"template/progressbar/progress.html",link:function(a,b,c,d){a.$watch("value",function(a,b){if(d.clearBars(),angular.isArray(a))for(var c=0,e=a.length;e>c;c++)d.addBar(d.makeBar(a[c],b[c],c));else d.addBar(d.makeBar(a,b))},!0),a.$watch("totalPercent",function(b){b>=100?a.onFull():0>=b&&a.onEmpty()},!0)}}}).directive("progressbar",["$transition",function(a){return{restrict:"EA",replace:!0,scope:{width:"=",old:"=",type:"=",animate:"="},templateUrl:"template/progressbar/bar.html",link:function(b,c){b.$watch("width",function(d){b.animate?(c.css("width",b.old+"%"),a(c,{width:d+"%"})):c.css("width",d+"%")})}}}]),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","$parse","ratingConfig",function(a,b,c,d){this.maxRange=angular.isDefined(b.max)?a.$parent.$eval(b.max):d.max,this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):d.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):d.stateOff,this.createRateObjects=function(a){for(var b={stateOn:this.stateOn,stateOff:this.stateOff},c=0,d=a.length;d>c;c++)a[c]=angular.extend({index:c},b,a[c]);return a},a.range=this.createRateObjects(angular.isDefined(b.ratingStates)?angular.copy(a.$parent.$eval(b.ratingStates)):new Array(this.maxRange)),a.rate=function(b){a.readonly||a.value===b||(a.value=b)},a.enter=function(b){a.readonly||(a.val=b),a.onHover({value:b})},a.reset=function(){a.val=angular.copy(a.value),a.onLeave()},a.$watch("value",function(b){a.val=b}),a.readonly=!1,b.readonly&&a.$parent.$watch(c(b.readonly),function(b){a.readonly=!!b})}]).directive("rating",function(){return{restrict:"EA",scope:{value:"=",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0}}),angular.module("ui.bootstrap.tabs",[]).directive("tabs",function(){return function(){throw new Error("The `tabs` directive is deprecated, please migrate to `tabset`. Instructions can be found at http://github.com/angular-ui/bootstrap/tree/master/CHANGELOG.md")}}).controller("TabsetController",["$scope",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(a){a.active=!1}),a.active=!0},b.addTab=function(a){c.push(a),(1===c.length||a.active)&&b.select(a)},b.removeTab=function(a){var d=c.indexOf(a);if(a.active&&c.length>1){var e=d==c.length-1?d-1:d+1;b.select(c[e])}c.splice(d,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,require:"^tabset",scope:{},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",compile:function(a,b,c){return function(a,b,d,e){a.vertical=angular.isDefined(d.vertical)?a.$parent.$eval(d.vertical):!1,a.type=angular.isDefined(d.type)?a.$parent.$eval(d.type):"tabs",a.direction=angular.isDefined(d.direction)?a.$parent.$eval(d.direction):"top",a.tabsAbove="below"!=a.direction,e.$scope=a,e.$transcludeFn=c}}}}).directive("tab",["$parse",function(a){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(b,c,d){return function(b,c,e,f){var g,h;e.active?(g=a(e.active),h=g.assign,b.$parent.$watch(g,function(a,c){a!==c&&(b.active=!!a)}),b.active=g(b.$parent)):h=g=angular.noop,b.$watch("active",function(a){h(b.$parent,a),a?(f.select(b),b.onSelect()):b.onDeselect()}),b.disabled=!1,e.disabled&&b.$parent.$watch(a(e.disabled),function(a){b.disabled=!!a}),b.select=function(){b.disabled||(b.active=!0)},f.addTab(b),b.$on("$destroy",function(){f.removeTab(b)}),b.$transcludeFn=d}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(a,b){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}]).directive("tabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(b,c,d){var e=b.$eval(d.tabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}).directive("tabsetTitles",function(){return{restrict:"A",require:"^tabset",templateUrl:"template/tabs/tabset-titles.html",replace:!0,link:function(a,b,c,d){a.$eval(c.tabsetTitles)?d.$transcludeFn(d.$scope.$parent,function(a){b.append(a)}):b.remove()}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:["AM","PM"],readonlyInput:!1,mousewheel:!0}).directive("timepicker",["$parse","$log","timepickerConfig",function(a,b,c){return{restrict:"EA",require:"?^ngModel",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(b,d,e,f){function g(){var a=parseInt(b.hours,10),c=b.showMeridian?a>0&&13>a:a>=0&&24>a;return c?(b.showMeridian&&(12===a&&(a=0),b.meridian===o[1]&&(a+=12)),a):void 0}function h(){var a=parseInt(b.minutes,10);return a>=0&&60>a?a:void 0}function i(a){return angular.isDefined(a)&&a.toString().length<2?"0"+a:a}function j(a){k(),f.$setViewValue(new Date(n)),l(a)}function k(){f.$setValidity("time",!0),b.invalidHours=!1,b.invalidMinutes=!1}function l(a){var c=n.getHours(),d=n.getMinutes();b.showMeridian&&(c=0===c||12===c?12:c%12),b.hours="h"===a?c:i(c),b.minutes="m"===a?d:i(d),b.meridian=n.getHours()<12?o[0]:o[1]}function m(a){var b=new Date(n.getTime()+6e4*a);n.setHours(b.getHours(),b.getMinutes()),j()}if(f){var n=new Date,o=c.meridians,p=c.hourStep;e.hourStep&&b.$parent.$watch(a(e.hourStep),function(a){p=parseInt(a,10)});var q=c.minuteStep;e.minuteStep&&b.$parent.$watch(a(e.minuteStep),function(a){q=parseInt(a,10)}),b.showMeridian=c.showMeridian,e.showMeridian&&b.$parent.$watch(a(e.showMeridian),function(a){if(b.showMeridian=!!a,f.$error.time){var c=g(),d=h();angular.isDefined(c)&&angular.isDefined(d)&&(n.setHours(c),j())}else l()});var r=d.find("input"),s=r.eq(0),t=r.eq(1),u=angular.isDefined(e.mousewheel)?b.$eval(e.mousewheel):c.mousewheel;if(u){var v=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};s.bind("mousewheel wheel",function(a){b.$apply(v(a)?b.incrementHours():b.decrementHours()),a.preventDefault()}),t.bind("mousewheel wheel",function(a){b.$apply(v(a)?b.incrementMinutes():b.decrementMinutes()),a.preventDefault()})}if(b.readonlyInput=angular.isDefined(e.readonlyInput)?b.$eval(e.readonlyInput):c.readonlyInput,b.readonlyInput)b.updateHours=angular.noop,b.updateMinutes=angular.noop;else{var w=function(a,c){f.$setViewValue(null),f.$setValidity("time",!1),angular.isDefined(a)&&(b.invalidHours=a),angular.isDefined(c)&&(b.invalidMinutes=c)};b.updateHours=function(){var a=g();angular.isDefined(a)?(n.setHours(a),j("h")):w(!0)},s.bind("blur",function(){!b.validHours&&b.hours<10&&b.$apply(function(){b.hours=i(b.hours)})}),b.updateMinutes=function(){var a=h();angular.isDefined(a)?(n.setMinutes(a),j("m")):w(void 0,!0)},t.bind("blur",function(){!b.invalidMinutes&&b.minutes<10&&b.$apply(function(){b.minutes=i(b.minutes)})})}f.$render=function(){var a=f.$modelValue?new Date(f.$modelValue):null;isNaN(a)?f.$setValidity("time",!1):(a&&(n=a),k(),l())},b.incrementHours=function(){m(60*p)},b.decrementHours=function(){m(60*-p)},b.incrementMinutes=function(){m(q)},b.decrementMinutes=function(){m(-q)},b.toggleMeridian=function(){m(720*(n.getHours()<12?1:-1))}}}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(a){var b=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+c+"'.");return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(a,b,c,d,e,f,g){var h=[9,13,27,38,40];return{require:"ngModel",link:function(i,j,k,l){var m,n=i.$eval(k.typeaheadMinLength)||1,o=i.$eval(k.typeaheadWaitMs)||0,p=i.$eval(k.typeaheadEditable)!==!1,q=b(k.typeaheadLoading).assign||angular.noop,r=b(k.typeaheadOnSelect),s=k.typeaheadInputFormatter?b(k.typeaheadInputFormatter):void 0,t=b(k.ngModel).assign,u=g.parse(k.typeahead),v=angular.element("<div typeahead-popup></div>");v.attr({matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(k.typeaheadTemplateUrl)&&v.attr("template-url",k.typeaheadTemplateUrl);var w=i.$new();i.$on("$destroy",function(){w.$destroy()});var x=function(){w.matches=[],w.activeIdx=-1},y=function(a){var b={$viewValue:a};q(i,!0),c.when(u.source(i,b)).then(function(c){if(a===l.$viewValue&&m){if(c.length>0){w.activeIdx=0,w.matches.length=0;for(var d=0;d<c.length;d++)b[u.itemName]=c[d],w.matches.push({label:u.viewMapper(w,b),model:c[d]});w.query=a,w.position=f.position(j),w.position.top=w.position.top+j.prop("offsetHeight")}else x();q(i,!1)}},function(){x(),q(i,!1)})};x(),w.query=void 0;var z;l.$parsers.unshift(function(a){return m=!0,a&&a.length>=n?o>0?(z&&d.cancel(z),z=d(function(){y(a)},o)):y(a):(q(i,!1),x()),p?a:a?void l.$setValidity("editable",!1):(l.$setValidity("editable",!0),a)}),l.$formatters.push(function(a){var b,c,d={};return s?(d.$model=a,s(i,d)):(d[u.itemName]=a,b=u.viewMapper(i,d),d[u.itemName]=void 0,c=u.viewMapper(i,d),b!==c?b:a)}),w.select=function(a){var b,c,d={};d[u.itemName]=c=w.matches[a].model,b=u.modelMapper(i,d),t(i,b),l.$setValidity("editable",!0),r(i,{$item:c,$model:b,$label:u.viewMapper(i,d)}),x(),j[0].focus()},j.bind("keydown",function(a){return 0===w.matches.length||-1===h.indexOf(a.which)?void(13===a.which&&a.preventDefault()):(a.preventDefault(),void(40===a.which?(w.activeIdx=(w.activeIdx+1)%w.matches.length,w.$digest()):38===a.which?(w.activeIdx=(w.activeIdx?w.activeIdx:w.matches.length)-1,w.$digest()):13===a.which||9===a.which?w.$apply(function(){w.select(w.activeIdx)}):27===a.which&&(a.stopPropagation(),x(),w.$digest())))}),j.bind("blur",function(){m=!1});var A=function(a){j[0]!==a.target&&(x(),w.$digest())};e.bind("click",A),i.$on("$destroy",function(){e.unbind("click",A)}),j.after(a(v)(w))}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(a,b,c){a.templateUrl=c.templateUrl,a.isOpen=function(){return a.matches.length>0},a.isActive=function(b){return a.active==b},a.selectActive=function(b){a.active=b},a.selectMatch=function(b){a.select({activeIdx:b})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(a,b,c,d){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(e,f,g){var h=d(g.templateUrl)(e.$parent)||"template/typeahead/typeahead-match.html";a.get(h,{cache:b}).success(function(a){f.replaceWith(c(a.trim())(e))})}}}]).filter("typeaheadHighlight",function(){function a(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(b,c){return c?b.replace(new RegExp(a(c),"gi"),"<strong>$&</strong>"):b}});